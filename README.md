# BiliBili åŠ¨æ€æ¨é€ Bot v1.6

[![Docker Hub](https://img.shields.io/docker/v/menghuanan/dynamic-bot?label=Docker%20Hub&logo=docker)](https://hub.docker.com/r/menghuanan/dynamic-bot)
[![Docker Pulls](https://img.shields.io/docker/pulls/menghuanan/dynamic-bot)](https://hub.docker.com/r/menghuanan/dynamic-bot)
[![License](https://img.shields.io/badge/license-AGPL--3.0-blue.svg)](LICENSE)

ç”± [bilibili-dynamic-mirai-plugin](https://github.com/Colter23/bilibili-dynamic-mirai-plugin) æ”¹é€ è€Œæ¥ã€‚  
ä»£ç éƒ¨åˆ†åˆ™ç”± [claude](https://github.com/claude) ä¸»åˆ€æ„å»ºé›å½¢ GPT-5.2-Codex ååŠ©ä¿®å¤BUGã€‚  
è¿™æ˜¯åŸºäº NapCat çš„ Bç«™åŠ¨æ€ã€ç›´æ’­æ¨é€æœºå™¨äººï¼Œæ”¯æŒåŠ¨æ€è®¢é˜…ã€ç›´æ’­é€šçŸ¥ã€é“¾æ¥è§£æç­‰åŠŸèƒ½ã€‚

## æ–‡æ¡£ç›®å½•

- [é¢„è§ˆæ•ˆæœ](#é¢„è§ˆæ•ˆæœ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [Docker éƒ¨ç½²](#docker-éƒ¨ç½²)
- [å¼€å‘è¯´æ˜](#å¼€å‘è¯´æ˜)
- [ä¸åŸé¡¹ç›®çš„åŒºåˆ«](#ä¸åŸé¡¹ç›®çš„åŒºåˆ«)
- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)
- [è®¸å¯è¯](#è®¸å¯è¯)
- [è”ç³»æ–¹å¼](#è”ç³»æ–¹å¼)

## é¢„è§ˆæ•ˆæœ

<img src="docs/dynamic.png" width="400" alt="é¢„è§ˆå›¾ç‰‡1">
<img src="docs/live.png" width="400" alt="é¢„è§ˆå›¾ç‰‡2">
<img src="docs/Video.png" width="400" alt="é¢„è§ˆå›¾ç‰‡3">
<img src="docs/bangumi.png" width="400" alt="é¢„è§ˆå›¾ç‰‡4">

## é¡¹ç›®ç»“æ„

```
dynamic-bot/
â”œâ”€â”€ src/main/kotlin/top/bilibili/      # æºä»£ç ç›®å½•
â”‚   â””â”€â”€ api/               # Bç«™ API æ¥å£
â”‚   â”œâ”€â”€ client/            # HTTP å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ data/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ draw/              # å›¾ç‰‡æ¸²æŸ“
â”‚   â”œâ”€â”€ napcat/            # NapCat å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ service/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ skia/              # Skia èµ„æºç®¡ç†
â”‚   â”œâ”€â”€ tasker/            # å®šæ—¶ä»»åŠ¡
â”‚   â”œâ”€â”€ utils/             # å·¥å…·ç±»
â”‚   â”œâ”€â”€ BiliConfig.kt      # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ BiliData.kt        # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ SkikoInitializer.kt # Skiko åˆå§‹åŒ–
â”‚   â””â”€â”€ Main.kt            # ç¨‹åºå…¥å£
â”œâ”€â”€ src/main/resources/               # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ font/              # å­—ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ icon/              # å›¾æ ‡æ–‡ä»¶
â”‚   â”œâ”€â”€ image/             # å›¾ç‰‡æ–‡ä»¶
â”‚   â””â”€â”€ logback.xml        # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ gradle/                # Gradle wrapper
â”œâ”€â”€ build.gradle.kts       # Gradle æ„å»ºè„šæœ¬
â”œâ”€â”€ settings.gradle.kts    # Gradle è®¾ç½®
â”œâ”€â”€ gradle.properties      # Gradle å±æ€§
â”œâ”€â”€ gradlew                # Gradle wrapper è„šæœ¬ï¼ˆLinux/Macï¼‰
â”œâ”€â”€ gradlew.bat            # Gradle wrapper è„šæœ¬ï¼ˆWindowsï¼‰
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ Dockerfile             # Docker é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ docker-entrypoint.sh   # Docker å¯åŠ¨è„šæœ¬
â”œâ”€â”€ docker-deploy.ps1      # Docker éƒ¨ç½²è„šæœ¬ï¼ˆWindowsï¼‰
â”œâ”€â”€ docker-push.ps1        # Docker Hub æ¨é€è„šæœ¬ï¼ˆWindowsï¼‰
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â””â”€â”€ LICENSE                # è®¸å¯è¯

```

## å¿«é€Ÿå¼€å§‹

### 1. ç¼–è¯‘é¡¹ç›®

```bash
# Windows
.\gradlew.bat build -x test

# Linux/Mac
./gradlew build -x test
```

ç¼–è¯‘å®Œæˆå,å¯æ‰§è¡Œæ–‡ä»¶ä½äºï¼š
- `build/libs/dynamic-bot-1.6.jar`

### 2. é…ç½®æ–‡ä»¶

é¦–æ¬¡è¿è¡Œæ—¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•ç»“æ„ï¼š

```
config/
â”œâ”€â”€ bot.yml              # Bot åŸºç¡€é…ç½®ï¼ˆNapCat è¿æ¥ä¿¡æ¯ï¼‰
â”œâ”€â”€ BiliData.yml         # è®¢é˜…æ•°æ®å’Œæ¨é€é…ç½®
â””â”€â”€ BiliConfig.yml       # é…ç½®æ–‡ä»¶

data/
â”œâ”€â”€ font/                # å­—ä½“æ–‡ä»¶ç›®å½•
â”œâ”€â”€ cache/               # ç¼“å­˜æ–‡ä»¶ç›®å½•
â””â”€â”€ image_cache/         # å›¾ç‰‡ç¼“å­˜ç›®å½•

temp/                    # ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼ˆäºŒç»´ç ã€ç¼“å­˜ç­‰ï¼‰

logs/
â”œâ”€â”€ bilibili-bot.log     # ä¸»æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ error.log            # é”™è¯¯æ—¥å¿—æ–‡ä»¶
â””â”€â”€ daemon/              # å®ˆæŠ¤è¿›ç¨‹ç›‘æ§æ—¥å¿—ç›®å½•
    â””â”€â”€ Daemon_YYYY-MM-DD.log  # æ¯æ—¥ç›‘æ§æ—¥å¿—
```

### 3. è¿è¡Œ Bot

#### æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œ JAR

```bash
java -jar build/libs/dynamic-bot-1.6.jar
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ Docker Hub é•œåƒï¼ˆæ¨èï¼‰

```bash
# æ‹‰å–é•œåƒ
docker pull menghuanan/dynamic-bot:latest

# å¯åŠ¨å®¹å™¨
docker run -d --name dynamic-bot \
  --network bridge \
  -v ./config:/app/config \
  -v ./data:/app/data \
  -v ./temp:/app/temp \
  -v ./logs:/app/logs \
  menghuanan/dynamic-bot:latest
```

è¯¦ç»†çš„ Docker éƒ¨ç½²è¯´æ˜è¯·æŸ¥çœ‹ [Docker éƒ¨ç½²](#docker-éƒ¨ç½²) ç« èŠ‚ã€‚

## ä¸»è¦åŠŸèƒ½

### 1. é“¾æ¥è§£æ
- è‡ªåŠ¨è§£æç¾¤æ¶ˆæ¯ä¸­çš„ Bç«™é“¾æ¥
- æ”¯æŒè§†é¢‘ã€åŠ¨æ€ã€ç›´æ’­ã€ç•ªå‰§ã€ä¸“æ ç­‰å¤šç§ç±»å‹
- æ”¯æŒ QQ å°ç¨‹åºåˆ†äº«çš„ Bç«™é“¾æ¥
- ç”Ÿæˆç²¾ç¾çš„å›¾æ–‡å¡ç‰‡
- è¿”å›æ ‡å‡†çš„ BV å·é“¾æ¥

### 2. åŠ¨æ€è®¢é˜…
- è®¢é˜… Bç«™ç”¨æˆ·çš„åŠ¨æ€
- è‡ªåŠ¨æ£€æµ‹æ–°åŠ¨æ€å¹¶æ¨é€åˆ°ç¾¤èŠ/ç§èŠ
- æ”¯æŒè‡ªå®šä¹‰æ¨é€æ¨¡æ¿
- æ”¯æŒç›´æ’­å¼€æ’­/å…³æ’­é€šçŸ¥

### 3. ç®¡ç†å‘½ä»¤ï¼ˆå‡éœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰

#### åŸºç¡€å‘½ä»¤
- `/check` - æ‰‹åŠ¨è§¦å‘æ£€æŸ¥ï¼ˆæµ‹è¯•ç”¨ï¼‰
- `/login` - Bç«™æ‰«ç ç™»å½•
- `/bili help` - æ˜¾ç¤ºå¸®åŠ© 

#### é«˜çº§å‘½ä»¤ï¼ˆ/biliï¼‰
[æŸ¥çœ‹ `/bili` å¸®åŠ©å¤§å›¾](docs/help.png)

  <img src="docs/help.png" width="420" alt="é«˜çº§å‘½ä»¤é¢„è§ˆ">

    /bili å‘½ä»¤å¸®åŠ©:

    è®¢é˜…ç®¡ç†:
    /bili add <UID|ss|md|ep> <ç¾¤å·> - æ·»åŠ è®¢é˜…åˆ°æŒ‡å®šç¾¤
    /bili remove <UID|ss|md|ep> <ç¾¤å·> - ä»æŒ‡å®šç¾¤ç§»é™¤è®¢é˜…
    /bili list - æŸ¥çœ‹å½“å‰ç¾¤çš„è®¢é˜…
    /bili list <UID|ss|md|ep> - æŸ¥çœ‹è®¢é˜…æ¨é€åˆ°å“ªäº›ç¾¤

    åˆ†ç»„ç®¡ç†:
    /bili group create <åˆ†ç»„å> - åˆ›å»ºåˆ†ç»„
    /bili group delete <åˆ†ç»„å> - åˆ é™¤åˆ†ç»„
    /bili group add <åˆ†ç»„å> <ç¾¤å·> - å°†ç¾¤åŠ å…¥åˆ†ç»„
    /bili group remove <åˆ†ç»„å> <ç¾¤å·> - ä»åˆ†ç»„ç§»é™¤ç¾¤
    /bili group list [åˆ†ç»„å] - æŸ¥çœ‹åˆ†ç»„ä¿¡æ¯
    /bili group subscribe <åˆ†ç»„å> <UID|ss|md|ep> - è®¢é˜…åˆ°åˆ†ç»„
    /bili group unsubscribe <åˆ†ç»„å> <UID|ss|md|ep> - ä»åˆ†ç»„ç§»é™¤è®¢é˜…
    /bili groups - æŸ¥çœ‹æ‰€æœ‰åˆ†ç»„

    è¿‡æ»¤å™¨ç®¡ç†ï¼ˆæ”¯æŒé»‘åå•ä¸ç™½åå•ï¼‰:
    /bili filter add <UID> <type|regex> <æ¨¡å¼> <å†…å®¹> - æ·»åŠ è¿‡æ»¤å™¨
      typeæ¨¡å¼: /bili filter add <UID> type <black|white> <åŠ¨æ€|è½¬å‘åŠ¨æ€|è§†é¢‘|éŸ³ä¹|ä¸“æ |ç›´æ’­>
      regexæ¨¡å¼: /bili filter add <UID> regex <black|white> <æ­£åˆ™è¡¨è¾¾å¼>
    /bili filter list <UID> - æŸ¥çœ‹è¿‡æ»¤å™¨
    /bili filter del <UID> <ç´¢å¼•> - åˆ é™¤è¿‡æ»¤å™¨(å¦‚ t0, r1)

    å…¶ä»–:
    /bili help - æ˜¾ç¤ºæ­¤å¸®åŠ©

## é…ç½®è¯´æ˜

### bot.yml ç¤ºä¾‹

```yaml
napcat:
  host: "127.0.0.1"          # NapCat WebSocket ä¸»æœºåœ°å€
  port: 3001                 # NapCat WebSocket ç«¯å£
  token: ""                  # NapCat WebSocket è®¿é—®ä»¤ç‰Œ ï¼ˆå¦‚æœ‰ï¼‰
  heartbeat_interval: 30000  # å¿ƒè·³é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  reconnect_interval: 5000   # é‡è¿é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  message_format: "array"    # æ¶ˆæ¯æ ¼å¼ï¼šarray
  max_reconnect_attempts: -1 # æœ€å¤§é‡è¿å°è¯•æ¬¡æ•°ï¼ˆ-1è¡¨ç¤ºæ— é™æ¬¡ï¼‰
  connect_timeout: 10000     # è¿æ¥è¶…æ—¶ï¼ˆæ¯«ç§’ï¼‰
targets: []                  # å°šæœªå¯ç”¨
admins: []                   # å°šæœªå¯ç”¨
```

### BiliData.yml ç¤ºä¾‹

```yaml
# åŠ¨æ€è®¢é˜…æ•°æ®
dynamic:
  # UID: è®¢é˜…ä¿¡æ¯
  123456:
    name: "ç”¨æˆ·å"
    contacts:
      - "group:987654321"  # ç¾¤èŠ
      - "private:123456789"  # ç§èŠ
    banList: {}
```
### BiliConfig.yml ç¤ºä¾‹

```yaml
admin: 0                        # ç®¡ç†å‘˜ QQ å·
enableConfig:                   # å¯ç”¨é…ç½®
  debugMode: false              # å¯ç”¨è°ƒè¯•æ¨¡å¼
  drawEnable: true              # å¯ç”¨ç»˜åˆ¶åŠŸèƒ½
  notifyEnable: true            # å¯ç”¨é€šçŸ¥åŠŸèƒ½
  liveCloseNotifyEnable: true   # å¯ç”¨ç›´æ’­å…³æ’­é€šçŸ¥
  lowSpeedEnable: true          # å¯ç”¨ä½é€Ÿæ¨¡å¼
  translateEnable: false        # å¯ç”¨ç¿»è¯‘åŠŸèƒ½
  proxyEnable: false            # å¯ç”¨ä»£ç†åŠŸèƒ½
  cacheClearEnable: true        # å¯ç”¨ç¼“å­˜æ¸…é™¤åŠŸèƒ½
accountConfig:                  # è´¦å·é…ç½®
  cookie: ""                    # Bç«™è´¦å· Cookie
  autoFollow: true              # è‡ªåŠ¨å…³æ³¨ç”¨æˆ·
  followGroup: "Botå…³æ³¨"        # è‡ªåŠ¨å…³æ³¨åˆ†ç»„
checkConfig:                    # æ£€æŸ¥é…ç½®
  interval: 15                  # æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
  liveInterval: 15              # ç›´æ’­æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
  lowSpeedTime: "22-8"          # ä½é€Ÿæ¨¡å¼æ—¶é—´èŒƒå›´ï¼ˆ24å°æ—¶æ ¼å¼ï¼‰
  lowSpeedRange: "60-240"       # ä½é€Ÿæ¨¡å¼èŒƒå›´ï¼ˆç§’ï¼‰
  normalRange: "30-120"         # æ­£å¸¸æ¨¡å¼èŒƒå›´ï¼ˆç§’ï¼‰
  checkReportInterval: 10       # æ£€æŸ¥æŠ¥å‘Šé—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  timeout: 10                   # æ£€æŸ¥è¶…æ—¶ï¼ˆç§’ï¼‰
pushConfig:
  messageInterval: 100          # æ¶ˆæ¯é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  pushInterval: 500             # æ¨é€é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  toShortLink: false            # æ˜¯å¦è½¬æ¢ä¸ºçŸ­é“¾æ¥
imageConfig:
  quality: "1000w"              # å›¾ç‰‡è´¨é‡ï¼ˆ1000w/750wï¼‰  
  theme: "v3"
  font: ""
  defaultColor: "#d3edfa"
  cardOrnament: "FanCard"
  colorGenerator:
    hueStep: 30
    lockSB: true
    saturation: 0.25
    brightness: 1.0
  badgeEnable:
    left: true
    right: false
templateConfig:
  defaultDynamicPush: "OneMsg"
  defaultLivePush: "OneMsg"
  defaultLiveClose: "SimpleMsg"
  dynamicPush:
    "DrawOnly": "{draw}"
    "TextOnly": "{name}@{type}\n{link}\n{content}\n{images}"
    "OneMsg": "{draw}\n{name}@{type}\n{link}"
    "TwoMsg": "{draw}\r{name}@{uid}@{type}\n{time}\n{link}"
  livePush:
    "DrawOnly": "{draw}"
    "TextOnly": "{name}@ç›´æ’­\n{link}\næ ‡é¢˜: {title}"
    "OneMsg": "{draw}\n{name}@ç›´æ’­\n{link}"
    "TwoMsg": "{draw}\r{name}@{uid}@ç›´æ’­\n{title}\n{time}\n{link}"
  liveClose:
    "SimpleMsg": "{name} ç›´æ’­ç»“æŸå•¦!\nç›´æ’­æ—¶é•¿: {duration}"
    "ComplexMsg": "{name} ç›´æ’­ç»“æŸå•¦!\næ ‡é¢˜: {title}\nç›´æ’­æ—¶é•¿: {duration}"
  footer:
    dynamicFooter: ""
    liveFooter: ""
    footerAlign: "LEFT"
cacheConfig:
  downloadOriginal: true
  expires:
    "DRAW": 7
    "IMAGES": 7
    "EMOJI": 7
    "USER": 7
    "OTHER": 7
proxyConfig:
  proxy: []
translateConfig:               # ç¿»è¯‘é…ç½®
  cutLine: "\n\nã€“ã€“ã€“ ç¿»è¯‘ ã€“ã€“ã€“\n"     # ç¿»è¯‘ç»“æœåˆ†éš”çº¿
  baidu:                       # ç™¾åº¦ç¿»è¯‘é…ç½®
    APP_ID: ""                 # ç™¾åº¦ç¿»è¯‘ APP_ID
    SECURITY_KEY: ""           # ç™¾åº¦ç¿»è¯‘ SECURITY_KEY
linkResolveConfig:             # é“¾æ¥è§£æé…ç½®
  triggerMode: "At"            # è§¦å‘æ¨¡å¼ï¼šAt/Always/Never
  returnLink: false            # æ˜¯å¦è¿”å›é“¾æ¥

```

## Docker éƒ¨ç½²

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker Hub é•œåƒï¼ˆæ¨èï¼‰

æ— éœ€ç¼–è¯‘ï¼Œç›´æ¥ä» Docker Hub æ‹‰å–é¢„æ„å»ºé•œåƒå¿«é€Ÿéƒ¨ç½²ã€‚

**Docker Hub ä»“åº“ï¼š** https://hub.docker.com/r/menghuanan/dynamic-bot

#### 1. æ‹‰å–é•œåƒ

```bash
docker pull menghuanan/dynamic-bot:latest
```

#### 2. åˆ›å»ºé…ç½®ç›®å½•

```bash
mkdir -p config data temp logs
```

#### 3. ä½¿ç”¨ docker run å¯åŠ¨

```bash
docker run -d \
  --name dynamic-bot \
  --restart unless-stopped \
  --network bridge \
  -v ./config:/app/config \
  -v ./data:/app/data \
  -v ./temp:/app/temp \
  -v ./logs:/app/logs \
  menghuanan/dynamic-bot:latest
```

#### 4. ä½¿ç”¨ docker-composeï¼ˆæ¨èï¼‰

åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
version: '3.8'

services:
  dynamic-bot:
    image: menghuanan/dynamic-bot:latest
    container_name: dynamic-bot
    restart: unless-stopped
    environment:
      - TZ=Asia/Shanghai
    volumes:
      - ./config:/app/config
      - ./data:/app/data
      - ./temp:/app/temp
      - ./logs:/app/logs
    network_mode: "bridge"  # ä½¿ç”¨ bridge ç½‘ç»œæ¨¡å¼
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
```

å¯åŠ¨å®¹å™¨ï¼š

```bash
docker-compose up -d
```

#### 5. é…ç½® NapCat è¿æ¥

é¦–æ¬¡è¿è¡Œåï¼Œç¼–è¾‘ `config/bot.yml`ï¼š

```yaml
napcat:
  host: "NapCat WebSocket ä¸»æœºåœ°å€"  
  port: 3001    #é»˜è®¤3001
  token: ""     #å¦‚æœæœ‰åˆ™å¡«å…¥ï¼Œæ²¡æœ‰ä¸å¡«
```

é‡å¯å®¹å™¨ï¼š

```bash
docker-compose restart
# æˆ–
docker restart dynamic-bot
```

#### 6. æŸ¥çœ‹æ—¥å¿—

```bash
docker-compose logs -f
# æˆ–
docker logs -f dynamic-bot
```

#### å¯ç”¨æ ‡ç­¾

- `latest` - æœ€æ–°ç‰ˆæœ¬ï¼ˆv1.6ï¼‰
- `v1.6` - ç¨³å®šç‰ˆæœ¬ v1.6
- `v1.5` - ç¨³å®šç‰ˆæœ¬ v1.5
- `v1.4` - ç¨³å®šç‰ˆæœ¬ v1.4
- `v1.3.1` - ç¨³å®šç‰ˆæœ¬ v1.3.1
- `v1.3` - ç¨³å®šç‰ˆæœ¬ v1.3
- `v1.2` - ç¨³å®šç‰ˆæœ¬ v1.2
- `v1.1` - ç¨³å®šç‰ˆæœ¬ v1.1
- `v1.0` - ç¨³å®šç‰ˆæœ¬ v1.0

### æ–¹å¼äºŒï¼šä»æºç æ„å»ºéƒ¨ç½²

å¦‚æœéœ€è¦è‡ªå®šä¹‰ä¿®æ”¹ï¼Œå¯ä»¥ä»æºç æ„å»ºé•œåƒã€‚

1. **é…ç½® NapCat è¿æ¥**
   - ä¿®æ”¹ `config/bot.yml` ä¸­çš„ host ä¸º `host.docker.internal`ï¼ˆå¦‚æœ NapCat åœ¨å®¿ä¸»æœºï¼‰
   - æˆ–ä¿æŒ `127.0.0.1`ï¼ˆå¦‚æœ NapCat ä¹Ÿåœ¨å®¹å™¨å†…ï¼‰

2. **æ„å»ºé•œåƒ**
   ```bash
   docker compose build
   ```

3. **å¯åŠ¨å®¹å™¨**
   ```bash
   docker compose up -d
   ```

4. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   docker compose logs -f
   ```

### å®¹å™¨é…ç½®

- **åŸºç¡€é•œåƒ**: eclipse-temurin:17-jdk
- **å†…å­˜åˆ†é…å™¨**: jemallocï¼ˆ5ç§’è‡ªåŠ¨å½’è¿˜å†…å­˜ï¼‰
- **JVM å‚æ•°**: `-Xms64m -Xmx192m -XX:+UseG1GC`ï¼ˆåŸºäº NMT å®æµ‹æ•°æ®ä¼˜åŒ–ï¼‰
- **ç½‘ç»œæ¨¡å¼**: bridgeï¼ˆé»˜è®¤ï¼‰
- **å¥åº·æ£€æŸ¥**: æ¯60ç§’æ£€æŸ¥ä¸€æ¬¡è¿›ç¨‹çŠ¶æ€
- **æ—¥å¿—é™åˆ¶**: 100MB Ã— 5 æ–‡ä»¶ï¼ˆè‡ªåŠ¨è½®è½¬ï¼‰
- **é‡å¯ç­–ç•¥**: unless-stopped

**ç½‘ç»œè¯´æ˜ï¼š**
- é»˜è®¤ä½¿ç”¨ `bridge` ç½‘ç»œæ¨¡å¼ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯
- å¦‚æœ NapCat åœ¨å®¿ä¸»æœºè¿è¡Œï¼Œéœ€è¦åœ¨ `config/bot.yml` ä¸­é…ç½® `host: "host.docker.internal"`
- å¦‚æœ NapCat ä¹Ÿåœ¨ Docker ä¸­è¿è¡Œï¼Œå»ºè®®ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œè¿æ¥ä¸¤ä¸ªå®¹å™¨ï¼ˆå‚è€ƒ docker-compose.yml æ³¨é‡Šï¼‰

### è‡ªåŠ¨åŒ–è„šæœ¬

Windows ç”¨æˆ·å¯ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ç®€åŒ–æ“ä½œï¼š

**docker-deploy.ps1** - éƒ¨ç½²ç®¡ç†è„šæœ¬
```powershell
.\docker-deploy.ps1 build    # æ„å»ºé•œåƒ
.\docker-deploy.ps1 start    # å¯åŠ¨å®¹å™¨
.\docker-deploy.ps1 stop     # åœæ­¢å®¹å™¨
.\docker-deploy.ps1 restart  # é‡å¯å®¹å™¨
.\docker-deploy.ps1 logs     # æŸ¥çœ‹æ—¥å¿—
.\docker-deploy.ps1 status   # æŸ¥çœ‹çŠ¶æ€
.\docker-deploy.ps1 clean    # æ¸…ç†å®¹å™¨å’Œé•œåƒ
.\docker-deploy.ps1 rebuild  # å®Œå…¨é‡æ–°æ„å»º
```

**docker-push.ps1** - Docker Hub æ¨é€è„šæœ¬
```powershell
.\docker-push.ps1 latest     # æ¨é€ latest æ ‡ç­¾
.\docker-push.ps1 v1.4       # æ¨é€æŒ‡å®šç‰ˆæœ¬æ ‡ç­¾
```

## å¼€å‘è¯´æ˜

### æŠ€æœ¯æ ˆ
- Kotlin 2.0.0
- Ktor 3.0.3ï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
- Skiko 0.8.15ï¼ˆå›¾ç‰‡æ¸²æŸ“ï¼‰
- kotlinx.serialization 1.6.3ï¼ˆJSON å¤„ç†ï¼‰
- kotlinx.coroutines 1.8.0ï¼ˆåç¨‹ï¼‰
- OneBot v11 åè®®ï¼ˆNapCatï¼‰

### é¡¹ç›®ç‰¹ç‚¹
- ç‹¬ç«‹è¿è¡Œï¼Œä¸ä¾èµ– Mirai æ¡†æ¶
- ä½¿ç”¨ NapCat ä½œä¸º QQ æœºå™¨äººæ¡†æ¶
- åŸºäº WebSocket é€šä¿¡
- ä½¿ç”¨ Skiko è¿›è¡Œé«˜è´¨é‡å›¾ç‰‡æ¸²æŸ“
- æ”¯æŒ Docker éƒ¨ç½²

## ä¸åŸé¡¹ç›®çš„åŒºåˆ«

1. **ç§»é™¤äº†ä»¥ä¸‹å†…å®¹**ï¼š
   - Mirai æ¡†æ¶ç›¸å…³ä»£ç å’Œæµ‹è¯•
   - ç¼–è¯‘è¾“å‡ºï¼ˆbuild/ã€.gradle/ï¼‰
   - IDE é…ç½®æ–‡ä»¶ï¼ˆ.idea/ã€.kotlin/ï¼‰
   - ä¸´æ—¶æ–‡ä»¶å’Œè¿è¡Œæ—¶æ•°æ®

2. **ä¿ç•™äº†ä»¥ä¸‹å†…å®¹**ï¼š
   - å®Œæ•´çš„æºä»£ç 
   - Gradle æ„å»ºé…ç½®
   - Docker éƒ¨ç½²æ–‡ä»¶
   - æ–‡æ¡£å’Œç¤ºä¾‹é…ç½®

## æ›´æ–°æ—¥å¿—

### v1.6 (2026-02-13)

**Skia èµ„æºç®¡ç†ç³»ç»Ÿé‡æ„** ğŸ¨

æœ¬ç‰ˆæœ¬å¯¹ Skia å›¾å½¢æ¸²æŸ“èµ„æºç®¡ç†è¿›è¡Œäº†å…¨é¢é‡æ„ï¼Œè§£å†³äº† Docker ç¯å¢ƒä¸‹çš„å†…å­˜æŒç»­å¢é•¿é—®é¢˜ã€‚

- âœ… **æ–°å¢ç»Ÿä¸€èµ„æºç®¡ç†æ¶æ„**
  - `SkiaManager` - ç»Ÿä¸€ç»˜å›¾å…¥å£ï¼Œé€šè¿‡ `executeDrawing { session -> }` æ¨¡å¼ç¡®ä¿èµ„æºè‡ªåŠ¨é‡Šæ”¾
  - `DrawingSession` - ä¼šè¯çº§èµ„æºè¿½è¸ªï¼Œ`.track()` æ–¹æ³•è‡ªåŠ¨æ³¨å†Œèµ„æºï¼Œä¼šè¯ç»“æŸæ—¶æ‰¹é‡é‡Šæ”¾
  - `DrawingQueueManager` - å¹¶å‘æ§åˆ¶ï¼ˆæœ€å¤§2å¹¶å‘ï¼Œé˜Ÿåˆ—å®¹é‡20ï¼Œ60ç§’è¶…æ—¶ï¼‰
  - `SkiaCleanupTasker` - å®šæ—¶æ¸…ç†ï¼ˆ60ç§’ç©ºé—²æ£€æŸ¥ï¼‰
  - `FontManager` - å…¨å±€å­—ä½“ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå•ä¾‹æ¨¡å¼é¿å…é‡å¤åŠ è½½

- âœ… **ä¸‰å±‚æ§åˆ¶æ¶æ„**
  - ç¬¬ä¸€å±‚ï¼šSkiaManager ç»Ÿä¸€å…¥å£æ§åˆ¶
  - ç¬¬äºŒå±‚ï¼šDrawingQueueManager å¹¶å‘ä¸è¶…æ—¶æ§åˆ¶
  - ç¬¬ä¸‰å±‚ï¼šDrawingSession èµ„æºè¿½è¸ªä¸è‡ªåŠ¨é‡Šæ”¾

- âœ… **ä¸‰é“é˜²çº¿ä¿éšœèµ„æºé‡Šæ”¾**
  - ç¬¬ä¸€é“ï¼šDrawingSession.use{} è‡ªåŠ¨å…³é—­
  - ç¬¬äºŒé“ï¼šSkiaCleanupTasker å®šæ—¶æ¸…ç†
  - ç¬¬ä¸‰é“ï¼šå†…å­˜ç›‘æ§å‘Šè­¦

- âœ… **ä»£ç æ¸…ç†**
  - åˆ é™¤æ‰€æœ‰åºŸå¼ƒå‡½æ•°ï¼Œæ¸…ç†çº¦ 2500 è¡Œå†—ä½™ä»£ç 
  - æ¶‰åŠæ–‡ä»¶ï¼šDynamicDrawã€DynamicMajorDrawã€DynamicModuleDrawã€LiveDrawã€QrCodeDrawã€General

**Docker å†…å­˜ä¼˜åŒ–** ğŸ³

é’ˆå¯¹ Docker ç¯å¢ƒä¸‹ glibc malloc arena ç¢ç‰‡åŒ–å¯¼è‡´çš„å†…å­˜ä¸å½’è¿˜é—®é¢˜ï¼Œé‡‡ç”¨ jemalloc æ–¹æ¡ˆå½»åº•è§£å†³ã€‚

- âœ… **jemalloc å†…å­˜åˆ†é…å™¨**
  - æ›¿æ¢ glibc mallocï¼Œé€šè¿‡ LD_PRELOAD æ³¨å…¥
  - é…ç½® 5 ç§’ decay æ—¶é—´ï¼Œä¸»åŠ¨å½’è¿˜å†…å­˜
  - å• arena æ¨¡å¼å‡å°‘ç¢ç‰‡åŒ–

- âœ… **JVM å†…å­˜é™åˆ¶ï¼ˆåŸºäº NMT å®æµ‹æ•°æ®ï¼‰**
  - å †å†…å­˜ï¼š64MB-192MB (G1GC)
  - Metaspaceï¼š48MB
  - CodeCacheï¼š48MB
  - DirectBufferï¼š64MB
  - ç†è®ºæœ€å¤§å€¼ï¼š~458MB

- âœ… **Netty å†…å­˜ä¼˜åŒ–**
  - ä½¿ç”¨ unpooled åˆ†é…å™¨
  - ç¦ç”¨çº¿ç¨‹ç¼“å­˜
  - 5 ç§’ç¼“å­˜æ¸…ç†é—´éš”

- âœ… **ä¼˜åŒ–æ•ˆæœ**
  - å•æ¬¡è§£æå†…å­˜å¢é•¿ï¼š20-25MB â†’ <5MB
  - å†…å­˜å½’è¿˜ï¼šä¸å½’è¿˜ â†’ 5ç§’åå½’è¿˜
  - ç›®æ ‡å†…å­˜å ç”¨ï¼š300-400MB ç¨³å®šæ”¶æ•›

**Skiko å´©æºƒä¿®å¤** ğŸ”§

ä¿®å¤ Docker ç¯å¢ƒä¸‹ Skiko å›¾å½¢åº“ EXCEPTION_ACCESS_VIOLATION å´©æºƒé—®é¢˜ã€‚

- âœ… **SOFTWARE æ¸²æŸ“æ¨¡å¼**
  - é€šè¿‡ JVM å‚æ•°å¼ºåˆ¶ä½¿ç”¨è½¯ä»¶æ¸²æŸ“
  - é¿å… GPU é©±åŠ¨å…¼å®¹æ€§é—®é¢˜

- âœ… **Xvfb è™šæ‹Ÿæ˜¾ç¤º**
  - é…ç½®è™šæ‹Ÿ X11 æ˜¾ç¤ºæœåŠ¡å™¨
  - æ”¯æŒ 1920x1080x24 åˆ†è¾¨ç‡

- âœ… **ç³»ç»Ÿä¾èµ–å®Œå–„**
  - æ·»åŠ å®Œæ•´çš„å›¾å½¢åº“ä¾èµ–ï¼ˆlibgl1-mesa-glxã€libx11-6 ç­‰ï¼‰
  - ç¡®ä¿ Skiko åœ¨æ— å¤´ç¯å¢ƒæ­£å¸¸è¿è¡Œ

**Docker éƒ¨ç½²æ”¹è¿›** ğŸ“¦

- âœ… **Dockerfile ä¼˜åŒ–**
  - åŸºäº eclipse-temurin:17-jre-jammy
  - é›†æˆ jemalloc å’Œä¸¥æ ¼ JVM å†…å­˜é™åˆ¶
  - å®Œæ•´çš„ Skiko æ¸²æŸ“å‚æ•°é…ç½®

- âœ… **docker-compose.yml æ›´æ–°**
  - èµ„æºé™åˆ¶ï¼š512MB ç¡¬é™åˆ¶ï¼Œ256MB ä¿è¯
  - å…±äº«å†…å­˜ï¼š256MBï¼ˆXvfb éœ€è¦ï¼‰
  - æ—¥å¿—é…ç½®ï¼š100MB Ã— 5 æ–‡ä»¶è½®è½¬

- âœ… **docker-entrypoint.sh æ”¹è¿›**
  - æ­£ç¡®çš„ä¿¡å·å¤„ç†ï¼ˆSIGTERM/SIGINTï¼‰
  - Xvfb å¯åŠ¨ä¸å¥åº·æ£€æŸ¥
  - ä¼˜é›…å…³é—­æµç¨‹

### v1.5.4 (2026-02-11)

**å…¨é¢ä»£ç å®¡è®¡ä¸èµ„æºæ³„æ¼ä¿®å¤** ğŸ”§
- âœ… **å®Œæˆæ‰€æœ‰æ¨¡å—çš„è‡ªç»´æŠ¤ä»£ç å®¡è®¡**
  - API æ¨¡å—ã€Service æ¨¡å—ã€æ•°æ®æ¨¡å‹ã€Tasker æ¨¡å—å…¨éƒ¨å®¡è®¡å®Œæˆ
  - éªŒè¯ DynamicService å®¹é‡ä¿æŠ¤ (MAX_SUBSCRIPTIONS=50000)
  - éªŒè¯ ListenerTasker LRU ç¼“å­˜ (MAX_CACHE_SIZE=10000)
- âœ… **ä¿®å¤ Skia ç»˜å›¾èµ„æºæ³„æ¼**
  - ä¿®å¤ DynamicModuleDraw.kt ä¸­ DISPUTE/TOPIC å›¾æ ‡ Image æœªå…³é—­
  - ä¿®å¤ LiveDraw.kt ä¸­ coverImg æœªå…³é—­
- âœ… **ç»“è®º**: å…¨éƒ¨æ¨¡å—å®¡è®¡å®Œæˆï¼Œæœªå‘ç°æ–°çš„èµ„æºæ³„æ¼é—®é¢˜

### v1.5.3 (2026-02-11)

**Skia Image åŸç”Ÿå†…å­˜æ³„æ¼å½»åº•ä¿®å¤** ğŸ”§
- âœ… **ä¿®å¤ Image å¯¹è±¡æœªå…³é—­å¯¼è‡´çš„å†…å­˜æ³„æ¼**
  - v1.5.2 ä»…ä¿®å¤äº† Surface çš„å…³é—­ï¼Œä½†é—æ¼äº† Image å¯¹è±¡çš„å…³é—­
  - Image å¯¹è±¡åŒæ ·æŒæœ‰ Skia åŸç”Ÿå†…å­˜ï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨ `close()` é‡Šæ”¾
  - æ¯æ¬¡é“¾æ¥è§£æåå†…å­˜å¢åŠ  20-30MB çš„é—®é¢˜ç°å·²å½»åº•è§£å†³
- âœ… **æ–°å¢èµ„æºç®¡ç†å·¥å…·å‡½æ•°**
  - æ–°å¢ `cacheImageAndClose()` å‡½æ•°ï¼Œç¼“å­˜å›¾ç‰‡åè‡ªåŠ¨å…³é—­ Image
  - æ–°å¢ `cacheImageAndCloseAll()` å‡½æ•°ï¼Œæ”¯æŒæ‰¹é‡å…³é—­ä¸­é—´ Image
- âœ… **ä¿®å¤çš„æ–‡ä»¶å’Œå‡½æ•°**
  - `General.kt` - æ–°å¢ `cacheImageAndClose()` å’Œ `cacheImageAndCloseAll()`
  - `DynamicDraw.kt` - ä¿®å¤ `makeDrawDynamic()`ã€`drawDynamic()`ã€`assembleCard()`
  - `ResolveLinkService.kt` - ä¿®å¤ `drawGeneral()` å’Œ `LinkType.drawGeneral()`
  - `LiveDraw.kt` - ä¿®å¤ `makeDrawLive()`ã€`drawLive()`
  - `DynamicMajorDraw.kt` - ä¿®å¤ `Opus.drawGeneral()`
  - `DynamicMessageTasker.kt` - ä¿®å¤ `dynamicImages()`
- âœ… **assembleCard() å‡½æ•°å¢å¼º**
  - æ–°å¢ `closeInputImages` å‚æ•°ï¼Œæ”¯æŒè‡ªåŠ¨å…³é—­è¾“å…¥çš„ Image åˆ—è¡¨
  - å…³é—­ badge Imageï¼Œé˜²æ­¢å°å›¾æ ‡æ³„æ¼

**æŠ€æœ¯è¯´æ˜** ğŸ“
- Skia çš„ `Image` å’Œ `Surface` éƒ½ç»§æ‰¿è‡ª `RefCnt`ï¼ŒæŒæœ‰åŸç”Ÿå†…å­˜
- JVM GC åªèƒ½å›æ”¶ Java å¯¹è±¡å¼•ç”¨ï¼Œæ— æ³•å›æ”¶ Skia åŸç”Ÿå†…å­˜
- å¿…é¡»åœ¨ä½¿ç”¨å®Œæ¯•åæ˜¾å¼è°ƒç”¨ `close()` æ–¹æ³•é‡Šæ”¾åŸç”Ÿèµ„æº
- ä½¿ç”¨ try-finally æ¨¡å¼ç¡®ä¿èµ„æºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½èƒ½æ­£ç¡®é‡Šæ”¾

### v1.5.2 (2026-02-11)

**Skia åŸç”Ÿå†…å­˜æ³„æ¼ä¿®å¤** ğŸ”§
- âœ… **ä¿®å¤ Surface åŸç”Ÿå†…å­˜æ³„æ¼**
  - ä¿®å¤æ‰€æœ‰ç»˜å›¾æ¨¡å—ä¸­ Skia Surface å¯¹è±¡æœªæ­£ç¡®å…³é—­å¯¼è‡´çš„åŸç”Ÿå†…å­˜æ³„æ¼
  - æ¯æ¬¡é“¾æ¥è§£æåå†…å­˜å¢åŠ  20-30MB çš„é—®é¢˜å·²è§£å†³
- âœ… **æ–°å¢å®‰å…¨èµ„æºç®¡ç†å·¥å…·å‡½æ•°**
  - æ–°å¢ `createImage()` å†…è”å‡½æ•°ï¼Œç¡®ä¿ Surface åœ¨ç»˜å›¾å®Œæˆåè‡ªåŠ¨å…³é—­
  - æ–°å¢ `createImageWithArea()` å†…è”å‡½æ•°ï¼Œæ”¯æŒæŒ‡å®šåŒºåŸŸæˆªå›¾å¹¶è‡ªåŠ¨é‡Šæ”¾èµ„æº
- âœ… **ä¿®å¤çš„æ–‡ä»¶**
  - `General.kt` - ä¿®å¤ imageMiss å’Œ SVGDOM.makeImage()
  - `DynamicDraw.kt` - ä¿®å¤ assembleCardã€drawBlockedDefaultã€makeCardBg
  - `DynamicMajorDraw.kt` - ä¿®å¤ 12 å¤„ Surface ä½¿ç”¨ï¼ˆè§†é¢‘ã€æ–‡ç« ã€éŸ³ä¹ç­‰æ‰€æœ‰ç±»å‹ï¼‰
  - `DynamicModuleDraw.kt` - ä¿®å¤ 6 å¤„ Surface ä½¿ç”¨
  - `LiveDraw.kt` - ä¿®å¤ drawLiveã€drawAvatar
  - `QrCodeDraw.kt` - ä¿®å¤ loginQrCode

**æŠ€æœ¯è¯´æ˜** ğŸ“
- Skia æ˜¯ C++ å›¾å½¢åº“ï¼Œå…¶å¯¹è±¡ï¼ˆå¦‚ Surfaceï¼‰åœ¨ JVM å †å¤–åˆ†é…åŸç”Ÿå†…å­˜
- å³ä½¿ JVM å¯¹è±¡è¢« GC å›æ”¶ï¼ŒåŸç”Ÿå†…å­˜ä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾
- å¿…é¡»æ˜¾å¼è°ƒç”¨ `close()` æ–¹æ³•é‡Šæ”¾åŸç”Ÿèµ„æº
- ä½¿ç”¨ try-finally æ¨¡å¼ç¡®ä¿èµ„æºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½èƒ½æ­£ç¡®é‡Šæ”¾

### v1.5.1 (2026-02-10)

**å†…å­˜æ³„æ¼ä¿®å¤** ğŸ”§
- âœ… **P0 é«˜é£é™©ä¿®å¤**
  - ä¿®å¤ BiliTasker ä»»åŠ¡å–æ¶ˆåæœªä»åˆ—è¡¨ç§»é™¤å¯¼è‡´çš„å†…å­˜æ³„æ¼
  - ä¿®å¤ SendTasker.messageQueue Channel æœªå…³é—­çš„é—®é¢˜
  - ä¿®å¤ eventCollectorJob åç¨‹æœªç­‰å¾…å®Œæˆçš„é—®é¢˜
- âœ… **P1 ä¸­é£é™©ä¿®å¤**
  - ä¼˜åŒ– NapCatClient.sendChannel å®¹é‡ä» 1000 é™è‡³ 200ï¼Œé™ä½å†…å­˜å ç”¨
  - ä¿®å¤ ListenerTasker ç¼“å­˜æ¸…ç†åç¨‹ isActive æ£€æŸ¥é—®é¢˜
- âœ… **P2 ä½é£é™©ä¿®å¤**
  - åˆ é™¤æœªä½¿ç”¨çš„ missChannelï¼Œæ¸…ç†æ— ç”¨ä»£ç 
- âœ… **P3 ç¨³å®šæ€§ä¿®å¤**
  - æ–°å¢ Channel èƒŒå‹ç›‘æ§ï¼Œé›†æˆåˆ° ProcessGuardian å®ˆæŠ¤è¿›ç¨‹
  - æ–°å¢ç¼“å­˜æ¸…ç†å¤±è´¥å‘Šè­¦æœºåˆ¶ï¼Œè¿ç»­å¤±è´¥ 3 æ¬¡å‘é€ç®¡ç†å‘˜é€šçŸ¥
  - é…ç½® OkHttp è¿æ¥æ± å‚æ•°ï¼ˆæœ€å¤§ç©ºé—²è¿æ¥ 3ï¼Œä¿æŒæ—¶é—´ 3 åˆ†é’Ÿï¼‰
  - å¢å¼º Shutdown Hook è¶…æ—¶ä¿æŠ¤ï¼ˆ15 ç§’è¶…æ—¶å¼ºåˆ¶é€€å‡ºï¼‰
  - æ–°å¢ sendChannel å®¹é‡ç›‘æ§ï¼Œé˜Ÿåˆ—æ»¡æ—¶è®°å½•å‘Šè­¦æ—¥å¿—

**æ–°å¢å®ˆæŠ¤è¿›ç¨‹** ğŸ›¡ï¸
- âœ… æ–°å¢ ProcessGuardian ç»¼åˆå®ˆæŠ¤è¿›ç¨‹
  - ä»»åŠ¡å¥åº·ç›‘æ§ï¼šæ¯30ç§’æ£€æµ‹å·²åœæ­¢çš„ä»»åŠ¡
  - å†…å­˜ä½¿ç”¨ç›‘æ§ï¼šç›‘æ§ JVM å†…å­˜ä½¿ç”¨ç‡ï¼Œè¶…è¿‡é˜ˆå€¼è‡ªåŠ¨æ¸…ç†
  - è¿æ¥çŠ¶æ€ç›‘æ§ï¼šç›‘æ§ WebSocket è¿æ¥çŠ¶æ€
  - åƒµå°¸ä»»åŠ¡æ¸…ç†ï¼šè‡ªåŠ¨æ¸…ç†å·²åœæ­¢çš„ä»»åŠ¡å¼•ç”¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
  - Channel èƒŒå‹ç›‘æ§ï¼šæ£€æµ‹æ¶ˆæ¯é˜Ÿåˆ—ç§¯å‹æƒ…å†µ
  - ç›‘æ§æ—¥å¿—è®°å½•ï¼šå°†ç›‘æ§ä¿¡æ¯å†™å…¥ `logs/daemon/Daemon_YYYY-MM-DD.log`
    - ä»»åŠ¡å¥åº·çŠ¶æ€ï¼ˆå¼‚å¸¸æ—¶è®°å½•ä»»åŠ¡åï¼‰
    - å†…å­˜ä½¿ç”¨ï¼ˆTop 5 å†…å­˜å ç”¨ç»„ä»¶ï¼‰
    - è¿æ¥çŠ¶æ€ï¼ˆå¼‚å¸¸æ—¶è®°å½•ï¼‰
    - åƒµå°¸ä»»åŠ¡æ¸…ç†è®°å½•
    - Channel èƒŒå‹å‘Šè­¦

**æŠ€æœ¯æ”¹è¿›** âš¡
- âœ… æ‰€æœ‰èµ„æºæ­£ç¡®ç®¡ç†ï¼Œæ— èµ„æºæ³„æ¼
- âœ… ä½¿ç”¨ `PrintWriter.use {}` ç¡®ä¿æ–‡ä»¶å†™å…¥åè‡ªåŠ¨å…³é—­
- âœ… å®ˆæŠ¤è¿›ç¨‹éšç¨‹åºå¯åŠ¨æŒä¹…åŒ–è¿è¡Œ

### v1.5 (2026-02-05)

**å®‰å…¨åŠ å›º** ğŸ”’
- âœ… ä¿®å¤ Channel æ— ç•Œç¼“å­˜é—®é¢˜ (CWE-770)
  - ä¸ºæ‰€æœ‰ Channel æ·»åŠ å®¹é‡é™åˆ¶ï¼Œé˜²æ­¢å†…å­˜è€—å°½
  - ä¼˜åŒ–ç¼“å†²åŒºå¤§å°é…ç½®ï¼Œæé«˜èµ„æºä½¿ç”¨æ•ˆç‡
- âœ… æ·»åŠ  lateinit å±æ€§åˆå§‹åŒ–æ£€æŸ¥
  - åœ¨è®¿é—® lateinit å±æ€§å‰æ·»åŠ  isInitialized æ£€æŸ¥
  - é˜²æ­¢ UninitializedPropertyAccessException å¼‚å¸¸
- âœ… æ·»åŠ å†…ç½‘åœ°å€æ£€æµ‹é˜²æ­¢ SSRF æ”»å‡» (CWE-918)
  - å®ç°å®Œæ•´çš„ç§æœ‰ IP åœ°å€æ£€æµ‹æœºåˆ¶
  - é˜»æ­¢å¯¹å†…ç½‘åœ°å€çš„ HTTP è¯·æ±‚
- âœ… ä¿®å¤è·¯å¾„éå†æ¼æ´ (CWE-22)
  - æ·»åŠ è·¯å¾„è§„èŒƒåŒ–å’Œå®‰å…¨æ£€æŸ¥
  - é˜²æ­¢é€šè¿‡ ../ ç­‰æ–¹å¼è®¿é—®ç³»ç»Ÿæ•æ„Ÿæ–‡ä»¶
- âœ… æ·»åŠ  WebSocket TLS æ”¯æŒé…ç½®
  - æ”¯æŒ wss:// åè®®çš„å®‰å…¨è¿æ¥
  - æå‡ NapCat è¿æ¥çš„å®‰å…¨æ€§

**æµ‹è¯•ä¸éªŒè¯** âœ…
- âœ… å®Œæˆä¸­å±å®‰å…¨æ¼æ´ä¿®å¤éªŒè¯æµ‹è¯•
  - éªŒè¯æ‰€æœ‰å®‰å…¨ä¿®å¤çš„æœ‰æ•ˆæ€§
  - ç¡®ä¿ä¿®å¤ä¸å½±å“ç°æœ‰åŠŸèƒ½

### v1.4.2 (2026-01-28)

**å®‰å…¨ä¿®å¤** ğŸ”’
- âœ… ä¿®å¤é…ç½®ä¿å­˜æ—¶æ•æ„Ÿä¿¡æ¯æ—¥å¿—æ³„éœ² (CWE-532)
  - ç§»é™¤ `BiliConfigManager.saveData()` ä¸­è¾“å‡º YAML å†…å®¹çš„æ—¥å¿—
  - æ”¹ä¸ºä»…è®°å½•æ•°æ®å¤§å°çš„ debug çº§åˆ«æ—¥å¿—
- âœ… ä¿®å¤ `BiliCookie.toString()` æ•æ„Ÿä¿¡æ¯æš´éœ²
  - `toString()` æ–¹æ³•ç°åœ¨åªæ˜¾ç¤ºå‰å‡ ä½å­—ç¬¦ï¼Œå…¶ä½™ç”¨ *** æ›¿ä»£
  - æ–°å¢ `toHeaderString()` æ–¹æ³•ç”¨äºå®é™… HTTP è¯·æ±‚
  - é˜²æ­¢ Cookie åœ¨æ—¥å¿—ä¸­å®Œæ•´æ³„éœ²
- âœ… Docker å®¹å™¨å®‰å…¨åŠ å›º
  - å®¹å™¨æ”¹ä¸ºä½¿ç”¨é root ç”¨æˆ· (botuser, UID 1000) è¿è¡Œ
  - ç¬¦åˆ Docker å®‰å…¨æœ€ä½³å®è·µï¼Œé™ä½å®¹å™¨é€ƒé€¸é£é™©

**æ–‡æ¡£æ›´æ–°** ğŸ“
- âœ… æ–°å¢ `docs/SECURITY.md` å®‰å…¨é…ç½®å’Œæœ€ä½³å®è·µæ–‡æ¡£
- âœ… README.md æ·»åŠ å®‰å…¨æç¤ºç« èŠ‚

### v1.4 (2026-01-21)

**åŠŸèƒ½å¢å¼º**
- âœ… æ–°å¢ä»åˆ†ç»„ç§»é™¤è®¢é˜…çš„å‘½ä»¤
- âœ… æ–°å¢æ—¥å¿—æ¸…ç†æœºåˆ¶

**æ¸²æŸ“ä¸è§£æ**
- âœ… ä¼˜åŒ–å½±è§†ç±»è§£ææ¸²æŸ“æ¨¡æ¿
- âœ… æ›´æ–°ç›´æ’­é“¾æ¥è§£ææ¨¡æ¿
- âœ… è°ƒæ•´å‘½ä»¤ç›¸å…³æ˜¾ç¤ºæ•ˆæœ

**ä¿®å¤ä¸ç»´æŠ¤**
- âœ… ä¿®å¤ç•ªå‰§è®¢é˜…é—®é¢˜
- âœ… æ¸…ç†å¼ƒç”¨é…ç½®å¹¶ä¿®å¤è½®è¯¢é…ç½®é¡¹
- âœ… ä¿®å¤ç¼–è¯‘é”™è¯¯
- âœ… æ›´æ–°ç‰ˆæœ¬å·æ˜¾ç¤ºä¸è„šæœ¬ç‰ˆæœ¬å·

### v1.3 (2026-01-09)

**ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
- âœ… æ—¶é—´æ˜¾ç¤ºä¼˜åŒ–ï¼šå®ç°ç›¸å¯¹æ—¶é—´æ˜¾ç¤ºåŠŸèƒ½
  - 5åˆ†é’Ÿå†…æ˜¾ç¤º"åˆšåˆš"
  - 5-10åˆ†é’Ÿæ˜¾ç¤º"5åˆ†é’Ÿå‰"
  - 10-30åˆ†é’Ÿæ˜¾ç¤º"10åˆ†é’Ÿå‰"
  - 30-60åˆ†é’Ÿæ˜¾ç¤º"30åˆ†é’Ÿå‰"
  - 1-24å°æ—¶æ˜¾ç¤º"Xå°æ—¶å‰"
  - 1-3å¤©æ˜¾ç¤º"Xå¤©å‰"
  - è¶…è¿‡3å¤©æ˜¾ç¤ºå…·ä½“æ—¶é—´ï¼ˆyyyyå¹´MMæœˆddæ—¥ HH:mmï¼‰
  - åŒºåˆ†å¼€å§‹æ—¶é—´ï¼ˆä½¿ç”¨ç›¸å¯¹æ—¶é—´ï¼‰å’Œç»“æŸæ—¶é—´ï¼ˆä½¿ç”¨ç»å¯¹æ—¶é—´ï¼‰
- âœ… å»é™¤æ‰€æœ‰æ—¶é—´æ˜¾ç¤ºä¸­çš„ç§’æ•°ï¼Œä½¿æ—¶é—´æ˜¾ç¤ºæ›´ç®€æ´

**åŠŸèƒ½ä¿®å¤**
- âœ… ä¿®å¤ `/check` å‘½ä»¤ï¼šä»å‘é€5æ¡åŠ¨æ€æ”¹ä¸ºåªå‘é€1æ¡æœ€æ–°åŠ¨æ€
- âœ… ä¿®å¤å­—ä½“åŠ è½½é€»è¾‘ï¼š
  - ç§»é™¤å¯¹ä¸å­˜åœ¨å­—ä½“çš„åŠ è½½å°è¯•ï¼ˆLXGWWenKaiï¼‰
  - ä¼˜å…ˆä½¿ç”¨å†…åµŒå­—ä½“ï¼ˆSource Han Sans SCï¼‰
  - ä¼˜åŒ–é»˜è®¤å­—ä½“åˆ—è¡¨ï¼Œæ·»åŠ  Microsoft YaHei ç­‰å¸¸è§ç³»ç»Ÿå­—ä½“
  - å°†å­—ä½“åŠ è½½å¤±è´¥æ—¥å¿—ä» WARN é™çº§ä¸º DEBUGï¼Œå‡å°‘éå…³é”®è­¦å‘Šä¿¡æ¯

**ä»£ç ä¼˜åŒ–**
- ğŸ“ æ¸…ç†è¯¯å¯¼æ€§çš„æ—¥å¿—è¾“å‡ºï¼Œæé«˜æ—¥å¿—å¯è¯»æ€§
- ğŸ“ å®Œå–„å­—ä½“åŠ è½½æµç¨‹æ–‡æ¡£å’Œæ³¨é‡Š

### v1.2 (2026-01-08)

**æ ¸å¿ƒåŠŸèƒ½å¢å¼º**
- ğŸš€ åŠ¨æ€è½®è¯¢ä¼˜åŒ–ï¼šæ”¯æŒæ—¶é—´æ®µè°ƒé¢‘ï¼Œå¯é…ç½®ä½é¢‘æ—¶æ®µï¼ˆå¦‚æ™š22ç‚¹-æ—©8ç‚¹ï¼‰ä½¿ç”¨éšæœºé—´éš”ï¼Œé™ä½APIè¯·æ±‚é¢‘ç‡
  - é…ç½® `lowSpeedTime` è®¾ç½®ä½é¢‘æ—¶æ®µï¼ˆé»˜è®¤ "22-8" è¡¨ç¤ºæ™š22ç‚¹åˆ°æ—©8ç‚¹ï¼‰
  - é…ç½® `lowSpeedRange` è®¾ç½®ä½é¢‘æ—¶æ®µçš„éšæœºé—´éš”èŒƒå›´ï¼ˆé»˜è®¤ "60-240" ç§’ï¼Œä¸ºæ­£å¸¸é—´éš”çš„2å€ï¼‰
  - é…ç½® `normalRange` è®¾ç½®æ­£å¸¸æ—¶æ®µçš„éšæœºé—´éš”èŒƒå›´ï¼ˆé»˜è®¤ "30-120" ç§’ï¼‰
  - ä¼ªéšæœºé—´éš”é¿å…å›ºå®šé—´éš”è¯·æ±‚è¢«Bç«™æ£€æµ‹ä¸ºçˆ¬è™«
- ğŸš€ å…³é”®è¯è¿‡æ»¤å™¨ï¼šæ”¯æŒæŒ‰è”ç³»äººé…ç½®é»‘ç™½åå•ï¼Œç²¾ç¡®æ§åˆ¶æ¨é€å†…å®¹
  - ç±»å‹è¿‡æ»¤ï¼šå¯å±è”½æˆ–åªå…è®¸ç‰¹å®šç±»å‹åŠ¨æ€ï¼ˆè½¬å‘ã€è§†é¢‘ã€ä¸“æ ã€éŸ³ä¹ã€ç›´æ’­ç­‰ï¼‰
  - æ­£åˆ™è¿‡æ»¤ï¼šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åŠ¨æ€å†…å®¹ï¼ˆå¦‚å±è”½æŠ½å¥–ã€å¹¿å‘Šç­‰ï¼‰
  - æ”¯æŒé»‘åå•å’Œç™½åå•ä¸¤ç§æ¨¡å¼

**é‡è¦ä¿®å¤**
- âœ… ä¿®å¤é»‘åå•æœºåˆ¶è¦†ç›–ï¼šè§£å†³ç‰¹å®šè”ç³»äººæ¶ˆæ¯ç»•è¿‡é»‘åå•å’Œè¿‡æ»¤å™¨çš„é—®é¢˜
- âœ… æ”¹è¿›æ¨é€å¤±è´¥è¯Šæ–­ï¼š
  - æ·»åŠ  API å“åº”è§£æï¼Œè®°å½•å¤±è´¥çš„retcodeå’Œé”™è¯¯ä¿¡æ¯
  - å¢å¼ºé”™è¯¯æ—¥å¿—ï¼Œæ˜ç¡®æ ‡æ³¨å¤±è´¥çš„è”ç³»äºº
  - æç¤ºæ£€æŸ¥ NapCat æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯åŸå› 
- âœ… ä¿®å¤ç›®å½•åˆå§‹åŒ–é—®é¢˜ï¼šå¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºæ‰€æœ‰å¿…è¦ç›®å½•ï¼ˆconfig, data, temp, logsï¼‰

**æ”¹è¿›ä¼˜åŒ–**
- âœ… å¯åŠ¨æ—¥å¿—æ˜¾ç¤ºç‰ˆæœ¬å·ï¼šä¾¿äºè¯†åˆ«å½“å‰è¿è¡Œç‰ˆæœ¬
- âœ… æ¸…ç†åºŸå¼ƒä»£ç ï¼šç§»é™¤å¤§é‡æ³¨é‡Šçš„ Mirai ç›¸å…³ä»£ç ï¼ˆçº¦ 123 è¡Œï¼‰
- âœ… æ”¹è¿›æ—¥å¿—è¾“å‡ºï¼šä¼˜åŒ–é”™è¯¯ä¿¡æ¯æ ¼å¼ï¼Œæé«˜é—®é¢˜å®šä½æ•ˆç‡

### v1.1 (2026-01-06)

**é‡è¦ä¿®å¤**
- âœ… ä¿®å¤å­—ä½“æ¸²æŸ“é—®é¢˜ï¼šæ›´æ¢é¡¹ç›®å­—ä½“ä¸ºæ€æºé»‘ä½“ï¼Œè§£å†³éƒ¨åˆ†å­—ç¬¦æ˜¾ç¤ºå¼‚å¸¸ï¼ˆå¦‚"å¤"å­—æ˜¾ç¤ºåç˜¦ï¼‰
- âœ… ä¿®å¤é˜²å¾ªç¯æœºåˆ¶æ¼æ´ï¼šå®Œå–„é“¾æ¥è§£æé»‘åå•æœºåˆ¶ï¼Œé¿å…å¤šä¸ª bot åŒæ—¶è§£ææ—¶å‘ç”Ÿå¾ªç¯
- âœ… ä¿®å¤å“”å“©å“”å“© HD ç‰ˆé“¾æ¥è§£æï¼šæ”¯æŒ HD ç‰ˆå°ç¨‹åºå‘é€çš„é“¾æ¥
- âœ… ä¿®å¤ JSON å’Œé“¾æ¥åŒæ—¶å‘é€æ—¶ç»•è¿‡é˜²å¾ªç¯æœºåˆ¶çš„é—®é¢˜

**ç•ªå‰§/ç”µå½±è§£æä¼˜åŒ–**
- âœ… ä¿®å¤ç”µå½±è§£æå¤±è´¥ï¼šæ­£ç¡®å¤„ç† `title` å­—æ®µä¸ºå­—ç¬¦ä¸²çš„æƒ…å†µï¼ˆå¦‚"æ­£ç‰‡"ï¼‰
- âœ… ä¿®å¤ç‰¹æ®Šç•ªå‰§è§£æå¤±è´¥ï¼šæ”¯æŒ `title` å­—æ®µåŒ…å«ç‰¹æ®Šæ ¼å¼ï¼ˆå¦‚"Extra(4.5)"ï¼‰
- âœ… ä¿®å¤ç•ªå‰§ç®€ä»‹æ˜¾ç¤ºé—®é¢˜ï¼šç¡®ä¿æ­£ç¡®è·å–å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- âœ… ä¼˜åŒ–ç•ªå‰§æ¨¡æ¿ï¼šé‡æ–°è®¾è®¡ä¿¡æ¯å¸ƒå±€ï¼ŒåŒ…æ‹¬å¼€æ’­æ—¶é—´ã€æ›´æ–°çŠ¶æ€ã€æ’­æ”¾æ•°æ®å’Œç®€ä»‹
- âœ… ä¿®å¤ç”µå½±é¡¶éƒ¨æ ‡ç­¾ï¼šå°†"ç•ªå‰§"æ ‡ç­¾æ­£ç¡®æ›¿æ¢ä¸º"ç”µå½±"
- âœ… ä¼˜åŒ–ç®€ä»‹æ˜¾ç¤ºï¼šç¡®ä¿ç®€ä»‹å†…å®¹å¡«æ»¡ä¿¡æ¯æ 
- âœ… ä¿®å¤ç•ªå‰§/ç”µå½±å¡ç‰‡å‚ç›´å±…ä¸­é—®é¢˜ï¼šå¡ç‰‡å†…å®¹ç°åœ¨æ­£ç¡®åœ°åœ¨å›¾ç‰‡ä¸­å‚ç›´å±…ä¸­æ˜¾ç¤º

**æ¸²æŸ“ä¼˜åŒ–**
- âœ… ä¿®å¤ç²‰ä¸ç‰Œæ•°å­—æ˜¾ç¤ºï¼šæ·»åŠ ä¸“ç”¨å­—ä½“æ–‡ä»¶ `FansCard.ttf` æ”¯æŒç²‰ä¸ç‰Œæ•°å­—æ¸²æŸ“
- âœ… ä¿®å¤è§†é¢‘æ—¶é•¿å¯¹é½é—®é¢˜ï¼šè°ƒæ•´è§†é¢‘æ—¶é•¿ã€è§‚çœ‹æ¬¡æ•°å’Œå¼¹å¹•æ•°çš„æ’ç‰ˆå¯¹é½

**åŠŸèƒ½å¢å¼º**
- ğŸš€ æ”¯æŒå¤šé“¾æ¥è§£æï¼šä¸€æ¡æ¶ˆæ¯ä¸­åŒ…å«å¤šä¸ª Bç«™é“¾æ¥æ—¶ï¼Œbot ä¼šé€ä¸ªè§£æå¹¶å‘é€ç»“æœ

**æ—¥å¿—æ”¹è¿›**
- âœ… æ·»åŠ å®Œæ•´çš„é”™è¯¯æ—¥å¿—ï¼šä¸ºæ‰€æœ‰å¤±è´¥ä»»åŠ¡æ·»åŠ é€‚å½“çš„è­¦å‘Šæˆ–é”™è¯¯æ—¥å¿—è¾“å‡º
- âœ… ä¼˜åŒ–æ—¥å¿—æ˜¾ç¤ºæ–¹å¼ï¼šåœ¨æ–‡æ¡£ä¸­æ·»åŠ æŸ¥çœ‹ DEBUG çº§æ—¥å¿—çš„è¯´æ˜

### v1.0.1 (2026-01-04)

**Docker æ”¯æŒ**
- âœ… å‘å¸ƒ Docker Hub å®˜æ–¹é•œåƒï¼šhttps://hub.docker.com/r/menghuanan/dynamic-bot
- âœ… æä¾› `latest` å’Œ `v1.0` ä¸¤ä¸ªæ ‡ç­¾
- âœ… æ— éœ€ç¼–è¯‘å³å¯å¿«é€Ÿéƒ¨ç½²
- âœ… æ·»åŠ å®Œæ•´çš„ Docker éƒ¨ç½²æ–‡æ¡£
- âœ… ä¿®å¤ Docker ç¯å¢ƒä¸­çš„å›¾å½¢åº“ä¾èµ–é—®é¢˜ï¼ˆSkiko/QRç ç”Ÿæˆï¼‰
  - æ·»åŠ å®Œæ•´çš„ X11 å›¾å½¢åº“æ”¯æŒï¼ˆlibxi6, libxtst6 ç­‰ï¼‰
  - é…ç½® Xvfb è™šæ‹Ÿæ˜¾ç¤ºç¯å¢ƒ
  - ç¡®ä¿ `/login` å‘½ä»¤çš„äºŒç»´ç ç”ŸæˆåŠŸèƒ½æ­£å¸¸å·¥ä½œ

### v1.0 (2026-01-04)

**æ ¸å¿ƒä¿®å¤**
- âœ… æ•°æ®æŒä¹…åŒ–é—®é¢˜ï¼šå®ç° BiliDataWrapper åŒ…è£…ç±»ï¼Œè§£å†³ object var å­—æ®µåºåˆ—åŒ–é—®é¢˜
- âœ… æ¨é€åŠŸèƒ½å¤±è´¥ï¼šä¿®å¤è”ç³»äºº ID æ ¼å¼å…¼å®¹é—®é¢˜ï¼ˆæ”¯æŒ `group:123456` å’Œ `g123456`ï¼‰
- âœ… èµ„æºæ–‡ä»¶åŠ è½½ï¼šä½¿ç”¨ ClassLoader åŠ è½½èµ„æºï¼Œä¿®å¤ JAR ä¸­ SVG å›¾æ ‡æ— æ³•åŠ è½½é—®é¢˜
- âœ… åŠ¨æ€æ£€æŸ¥å¤±è´¥ï¼šä¿®æ­£ lastDynamic åˆå§‹åŒ–é€»è¾‘ï¼Œé¿å…é—æ¼å·²å‘å¸ƒåŠ¨æ€
- âœ… ç›´æ’­æ¨é€å¤±è´¥ï¼šä¿®æ­£ lastLive æ—¶é—´çª—å£ï¼Œç¡®ä¿ä¸é—æ¼å·²å¼€æ’­çš„ç›´æ’­

**åŠŸèƒ½å¢å¼º**
- ğŸš€ ç™½åå•ä¸åˆ†ç»„ç®¡ç†ï¼šæ”¯æŒç²¾ç¡®æ§åˆ¶æ¨é€èŒƒå›´ï¼Œæ‰¹é‡è®¢é˜…ç®¡ç†
- ğŸš€ åŒæºç›´æ’­æ£€æŸ¥ï¼šåŒæ—¶æ£€æŸ¥å…³æ³¨åˆ—è¡¨å’Œè®¢é˜…åˆ—è¡¨ä¸­çš„ç›´æ’­çŠ¶æ€
- ğŸš€ ç¼“å­˜è‡ªåŠ¨æ¸…ç†ï¼šå¯åŠ¨æ—¶å’Œå®šæ—¶æ¸…ç†è¿‡æœŸç¼“å­˜ï¼Œå¯é…ç½®ä¿ç•™æ—¶é—´
- ğŸš€ æ—¥å¿—ä¼˜åŒ–ï¼šç®€åŒ–æ§åˆ¶å°è¾“å‡ºï¼Œé™çº§ NapCat é‡å¤æ—¥å¿—

**é…ç½®æ”¹è¿›**
- ğŸ“ æ•°æ®æ–‡ä»¶è¿ç§»ï¼šä» `data/BiliData.yml` è‡ªåŠ¨è¿ç§»åˆ° `config/BiliData.yml`
- ğŸ“ æ£€æŸ¥é—´éš”ä¼˜åŒ–ï¼šåŠ¨æ€æ£€æŸ¥å’Œç›´æ’­æ£€æŸ¥ç‹¬ç«‹é…ç½®ï¼ˆé»˜è®¤15ç§’ï¼‰
- ğŸ“ æ¨é€æ¨¡æ¿æ‰©å±•ï¼šæ”¯æŒè‡ªå®šä¹‰åŠ¨æ€ã€ç›´æ’­ã€ä¸‹æ’­é€šçŸ¥æ¨¡æ¿

### æ—©æœŸç‰ˆæœ¬

1. **é“¾æ¥è§£æå¢å¼º**
   - æ·»åŠ äº† QQ å°ç¨‹åºé“¾æ¥è§£ææ”¯æŒ
   - çŸ­é“¾æ¥è‡ªåŠ¨è½¬æ¢ä¸ºæ ‡å‡† BV å·
   - ä¼˜åŒ–äº†æ— é™å¾ªç¯é˜²æŠ¤æœºåˆ¶

2. **ç•ªå‰§æ¸²æŸ“ä¼˜åŒ–**
   - æ·»åŠ äº†ç•ªå‰§ä»‹ç»æ˜¾ç¤º
   - æ–°å¢å…ƒä¿¡æ¯æ˜¾ç¤ºï¼ˆæ ‡ç­¾ã€é¦–æ’­æ—¶é—´ã€å®Œç»“çŠ¶æ€ã€é›†æ•°ç­‰ï¼‰
   - ä¼˜åŒ–äº†å¸ƒå±€ï¼Œå‡å°‘ç©ºç™½åŒºåŸŸ

3. **å­—ä½“åŠ è½½æ”¹è¿›**
   - æ”¯æŒä» resources ç›®å½•åŠ è½½å­—ä½“
   - å­—ä½“æ–‡ä»¶å¯ä»¥æ‰“åŒ…åˆ° JAR ä¸­
   - æ— éœ€æ‰‹åŠ¨ä¸‹è½½å­—ä½“æ–‡ä»¶

4. **è®¢é˜…åŠŸèƒ½å®Œå–„**
   - æ·»åŠ äº†è®¢é˜…ç®¡ç†å‘½ä»¤
   - æ”¯æŒæ‰‹åŠ¨è§¦å‘æ£€æŸ¥ï¼ˆ/checkï¼‰
   - ä¼˜åŒ–äº†æ¨é€é€»è¾‘

## æ•…éšœæ’æŸ¥

### å¯ç”¨ DEBUG æ—¥å¿—

å¦‚æœé‡åˆ°é—®é¢˜éœ€è¦æäº¤ Bug æŠ¥å‘Šï¼Œå¯ä»¥å¯ç”¨ DEBUG çº§åˆ«æ—¥å¿—æ¥è·å–æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š

1. **å¯åŠ¨æ—¶åŠ å…¥--debug**

   åœ¨å¯åŠ¨æ—¶åŠ å…¥--debug ï¼š

   ```powershell
   java -jar dynamic-bot-1.6.jar --debug
   ```

1. **Docker éƒ¨ç½²å¯ç”¨ Debug**

   ç¼–è¾‘æŒ‚è½½ç›®å½•ä¸­çš„ `config/BiliConfig.yml`ï¼š

   ```yaml
   enableConfig:
     debugMode: true
   ```

   é‡å¯å®¹å™¨ï¼š

   ```bash
   docker restart dynamic-bot
   # æˆ–
   docker-compose restart
   ```
2. **æŸ¥çœ‹æ—¥å¿—**

   - æ§åˆ¶å°ä¼šæ˜¾ç¤º DEBUG çº§åˆ«çš„è¯¦ç»†æ—¥å¿—
   - æ—¥å¿—æ–‡ä»¶ä½äº `logs/bilibili-bot.log`
   - é”™è¯¯æ—¥å¿—ä½äº `logs/error.log`

**æ³¨æ„**: DEBUG æ—¥å¿—ä¼šè¾“å‡ºå¤§é‡ä¿¡æ¯ï¼Œä»…åœ¨æ’æŸ¥é—®é¢˜æ—¶å¯ç”¨ï¼Œæ—¥å¸¸ä½¿ç”¨å»ºè®®ä¿æŒ INFO çº§åˆ«ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº AGPL-3.0 è®¸å¯è¯å¼€æºã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·åœ¨ GitHub ä¸Šæäº¤ Issueã€‚
